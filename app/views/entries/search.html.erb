<%= render 'shared/navbar_lateral' %>
<div class="page-container">
  <div class="content-container">
    <div class="search-bar">
      <%= form_tag search_path, method: :get do %>
        <div class="search-theme">
          <%= text_field_tag :query,
            params[:query],
            class: "form-control",
            placeholder: "Search by theme"
          %>
        </div>
        <div class="search-icons">
          <%= check_box_tag("categories[]", "Prediction" , params[:categories].present? && params[:categories].include?("Prediction") ? true : false, onchange: 'this.form.submit()', id: "category-prediction") %>
          <label for="category-prediction">Predictions</label>
          <%= check_box_tag("categories[]", "Event", params[:categories].present? && params[:categories].include?("Event") ? true : false, onchange: 'this.form.submit()', id: "category-event")%>
          <label for="category-event">Events</label>
          <%= check_box_tag("categories[]", "Thought", params[:categories].present? && params[:categories].include?("Thought") ? true : false, onchange: 'this.form.submit()', id: "category-thought") %>
          <label for="category-thought">Thoughts</label>
          <%= check_box("", :question_day, {checked: params[:question_day] == "true" ? true : false, onchange: 'this.form.submit()', id: "question_day_search"}, true, false) %>
          <label for="question_day">Questions day</label>
          <input name="start_date" value="<%= params[:start_date] %>" onchange='this.form.submit()' class= "datepicker" id="search_date" label="Initial date" placeholder="Initial date">
          <input name="end_date" value="<%= params[:end_date] %>" onchange='this.form.submit()' class= "datepicker" id="search_date" label="Final date" placeholder="Final date">
        </div>
        <input type="submit" hidden />

      <% end %>
    </div>
    <% @entries.each do |entry| %>
      <div class="card-search">
        <div class="title-date d-flex">
          <div class="title-search"><h3><%= entry.theme %></h3></div>
          <div class="date-search d-flex">
            <p><i class="fa-solid fa-pen-to-square"></i>&nbsp<%= entry.created_at.strftime("%d-%b-%Y") %></p>
            <p><i class="fa-solid fa-calendar-check"></i>&nbsp<%= entry.remember_date.strftime("%d-%b-%Y") %></p>
          </div>
        </div>
        <div class="comment-share d-flex">
          <div class="comment-search"><%= entry.comment %></div>
          <div class="share-search"><i class="fa-solid fa-share-nodes"></i></div>
        </div>
      </div>
    <% end %>
  </div>
</div>
